<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caf√© Admin Panel</title>
    <style>
        body { font-family: Arial, sans-serif; background: #1a1a1a; color: white; text-align: center; }
        .container { max-width: 900px; margin: auto; }
        h1 { color: #ffcc00; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ffcc00; padding: 10px; text-align: center; }
        th { background: #444; }
        select, button { padding: 5px; margin-top: 5px; cursor: pointer; }
        .completed { background: #28a745; color: white; }
        .pending { background: #dc3545; color: white; }
        .assigned { background: #ffc107; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Admin Panel - Order & Waiter Management</h1>
        <h2>Pending Orders</h2>
        <table>
            <thead>
                <tr>
                    <th>Order ID</th>
                    <th>Table</th>
                    <th>Details</th>
                    <th>Status</th>
                    <th>Assign Waiter</th>
                </tr>
            </thead>
            <tbody id="orderTable"></tbody>
        </table>
        <h2>Waiter Status</h2>
        <table>
            <thead>
                <tr>
                    <th>Waiter Name</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="waiterTable"></tbody>
        </table>
    </div>

    <script>
        let orders = [
            { id: 101, table: 5, details: "2x Espresso, 1x Croissant", status: "Pending" },
            { id: 102, table: 2, details: "1x Cappuccino, 1x Bagel", status: "Pending" }
        ];
        
        let waiters = [
            { name: "John", status: "Available" },
            { name: "Emma", status: "Busy" },
            { name: "Alex", status: "Available" }
        ];
        
        function loadOrders() {
            let table = document.getElementById("orderTable");
            table.innerHTML = "";
            orders.forEach((order, index) => {
                table.innerHTML += `
                    <tr>
                        <td>${order.id}</td>
                        <td>${order.table}</td>
                        <td>${order.details}</td>
                        <td class="${order.status.toLowerCase()}">${order.status}</td>
                        <td>
                            <select id="waiterSelect-${index}">
                                ${waiters.filter(w => w.status === "Available").map(w => `<option value="${w.name}">${w.name}</option>`).join('')}
                            </select>
                            <button onclick="assignWaiter(${index})">Assign</button>
                        </td>
                    </tr>`;
            });
        }
        
        function loadWaiters() {
            let table = document.getElementById("waiterTable");
            table.innerHTML = "";
            waiters.forEach(waiter => {
                table.innerHTML += `<tr><td>${waiter.name}</td><td>${waiter.status}</td></tr>`;
            });
        }
        
        function assignWaiter(index) {
            let select = document.getElementById(`waiterSelect-${index}`);
            let selectedWaiter = select.value;
            let waiter = waiters.find(w => w.name === selectedWaiter);
            
            if (waiter) {
                waiter.status = "Busy";
                orders[index].status = "Assigned";
                loadOrders();
                loadWaiters();
                setTimeout(() => completeOrder(index, selectedWaiter), 5000);
            }
        }
        
        function completeOrder(index, waiterName) {
            orders[index].status = "Completed";
            let waiter = waiters.find(w => w.name === waiterName);
            if (waiter) waiter.status = "Available";
            loadOrders();
            loadWaiters();
        }
        
        loadOrders();
        loadWaiters();
    </script>
</body>
</html>